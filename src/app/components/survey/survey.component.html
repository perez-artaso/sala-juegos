<div *ngIf="!surveySubmitted; else confirmationBlock" id="survey-container">
    <form [formGroup]="survey" (ngSubmit)="submitSurvey()">

        <div class="form-group mt-2 mb-2">
            <label for="fullname">Nombre y Apellido</label>
            <input 
                formControlName="fullname" 
                name="fullname" 
                type="text"
                class="form-control" 
                id="fullname" 
                placeholder="Ingrese su nombre completo"
                [ngClass]="{'is-invalid': isInputValid('fullname')}"
            >
        </div>

        <div class="form-group mt-2 mb-2">
            <label for="age">Edad</label>
            <input aria-describedby="age-error" [ngClass]="{'is-invalid': isInputValid('age')}" formControlName="age" name="age" type="number" class="form-control" id="age" placeholder="Debe ser mayor de edad para jugar en este sitio">
            <small *ngIf="isInputValid('age')" id="age-error" class="alert-danger form-text text-muted">La edad debe estar en el rango 18 - 99</small>
        </div>

        <div class="form-group mt-2 mb-2">
            <label for="phone">Número de Teléfono</label>
            <input aria-describedby="phone-error" [ngClass]="{'is-invalid': isInputValid('phone')}" formControlName="phone" name="phone" type="number" class="form-control" id="phone" placeholder="Máximo diez dígitos">
            <small *ngIf="isInputValid('phone')" id="phone-error" class="alert-danger form-text text-muted">Máximo de diez dígitos</small>
        </div>

        <div class="form-check mt-2 mb-2">
            <input [ngClass]="{'is-invalid': isInputValid('isOwner')}" formControlName="isOwner" type="checkbox" class="form-check-input" id="isOwner" value="true">
            <label class="form-check-label" for="isOwner">¿Es ud. el dueño de la cuenta?</label>
        </div>

        <div class="form-group mt-3 mb-3">
            <h5>Sexo</h5>
            <div class="form-check form-check-inline">
                <input [ngClass]="{'is-invalid': isInputValid('gender')}" formControlName="gender" class="form-check-input" type="radio" name="gender" id="male-radio" value="m">
                <label class="form-check-label" for="male-radio">M</label>
            </div>
              <div class="form-check form-check-inline">
                <input [ngClass]="{'is-invalid': isInputValid('gender')}" formControlName="gender" class="form-check-input" type="radio" name="gender" id="female-radio" value="f">
                <label class="form-check-label" for="female-radio">F</label>
            </div>
        </div>

        

        <div class="form-group mt-2">
            <label for="comentarios">Comentarios</label>
            <textarea [ngClass]="{'is-invalid': isInputValid('comentaries')}" formControlName="comentaries" class="form-control" id="comentarios" rows="3" placeholder="Sus opiniones nos ayudan a crecer"></textarea>        
        </div>


        <button type="submit" class="btn btn-primary mt-4" [disabled]="!survey.valid">Enviar</button>

    </form>
</div>

<ng-template #confirmationBlock>
    <div style="border-radius: 5px;" class="alert alert-success">
        <h1>¡Muchas Gracias!</h1>
        <p>Tus comentarios nos ayudan a crecer y nos permiten mejorar los servicios que te ofrecemos.</p>
    </div>
</ng-template>